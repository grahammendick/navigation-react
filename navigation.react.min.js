/**
 * Navigation React v2.0.5
 * (c) Graham Mendick - http://grahammendick.github.io/navigation/
 * License: Apache-2.0
 */
!function(t,e){"use strict";function a(t,e){function a(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])},n=function(){function t(){}return t.getLink=function(t,e){try{return t.historyManager.getHref(e())}catch(t){return null}},t.getData=function(t,e,a,i){return i&&(e=t.stateContext.includeCurrentData(e,i.trim().split(/\s*,\s*/))),a&&(e=t.stateContext.includeCurrentData(e)),e},t.setActive=function(t,e,a){if(e.activeCssClass||e.disableActive){var i=!!a.href;for(var n in e.navigationData){var o=e.navigationData[n];i=i&&(null==o||this.areEqual(o,t.stateContext.data[n]))}i&&e.activeCssClass&&(a.className=a.className?a.className+" "+e.activeCssClass:e.activeCssClass),i&&e.disableActive&&(a.href=null)}},t.areEqual=function(t,e){if(null==e)return null==t||""===t;var a=Object.prototype.toString.call(t);if(a!==Object.prototype.toString.call(e))return!1;if("[object Array]"===a){for(var i=t.length===e.length,n=0;i&&n<t.length;n++)i=this.areEqual(t[n],e[n]);return i}return isNaN(t)?t===e:+t===+e},t.isValidAttribute=function(t){return"stateNavigator"!==t&&"stateKey"!==t&&"navigationData"!==t&&"includeCurrentData"!==t&&"currentDataKeys"!==t&&"activeCssClass"!==t&&"disableActive"!==t&&"distance"!==t&&"lazy"!==t&&"historyAction"!==t&&"navigating"!==t&&"children"!==t},t.addListeners=function(t,e,a,i,n){var o=this,r=!!a.lazy;i.onClick=function(i,s){var g=t.el,c=g.href;if(r&&(t.forceUpdate(),c=n(),c&&(g.href=c)),!(i.ctrlKey||i.shiftKey||i.metaKey||i.altKey||i.button)&&c){var u=e.historyManager.getUrl(g),p=o.getNavigating(a);p(i,s,u)&&(i.preventDefault(),e.navigateLink(u,a.historyAction))}},r&&(i.onContextMenu=function(e){return t.forceUpdate()})},t.getNavigating=function(t){return function(e,a,i){var n=t.navigating;return!n||n(e,a,i)}},t}(),o=function(t){function i(e,a){var i=t.call(this,e,a)||this;return i.onNavigate=function(){i.state.stateContext===i.getStateNavigator().stateContext.url&&i.state.crumb===i.getNavigationBackLink()||i.setState(i.getNextState())},i.state=i.getNextState(),i}return a(i,t),i.prototype.getStateNavigator=function(){return this.props.stateNavigator||this.context.stateNavigator},i.prototype.getNavigationBackLink=function(){var t=this;return n.getLink(this.getStateNavigator(),function(){return t.getStateNavigator().getNavigationBackLink(t.props.distance)})},i.prototype.getNextState=function(){return{stateContext:this.getStateNavigator().stateContext.url,crumb:this.getNavigationBackLink()}},i.prototype.componentDidMount=function(){this.props.lazy||this.getStateNavigator().onNavigate(this.onNavigate)},i.prototype.componentWillReceiveProps=function(){this.setState(this.getNextState())},i.prototype.componentWillUnmount=function(){this.props.lazy||this.getStateNavigator().offNavigate(this.onNavigate)},i.prototype.render=function(){var t=this,a={ref:function(e){return t.el=e}};for(var i in this.props)n.isValidAttribute(i)&&(a[i]=this.props[i]);return a.href=this.getNavigationBackLink(),n.addListeners(this,this.getStateNavigator(),this.props,a,function(){return t.getNavigationBackLink()}),e.createElement("a",a,this.props.children)},i}(e.Component);o.contextTypes={stateNavigator:function(){}};var r=function(t){function i(e,a){var i=t.call(this,e,a)||this;return i.onNavigate=function(){i.state.stateContext!==i.getStateNavigator().stateContext.url&&i.setState(i.getNextState())},i.state=i.getNextState(),i}return a(i,t),i.prototype.getStateNavigator=function(){return this.props.stateNavigator||this.context.stateNavigator},i.prototype.getNavigationLink=function(){var t=this,e=n.getData(this.getStateNavigator(),this.props.navigationData,this.props.includeCurrentData,this.props.currentDataKeys);return n.getLink(this.getStateNavigator(),function(){return t.getStateNavigator().getNavigationLink(t.props.stateKey,e)})},i.prototype.getNextState=function(){return{stateContext:this.getStateNavigator().stateContext.url}},i.prototype.componentDidMount=function(){this.props.lazy||this.getStateNavigator().onNavigate(this.onNavigate)},i.prototype.componentWillReceiveProps=function(){this.setState(this.getNextState())},i.prototype.componentWillUnmount=function(){this.props.lazy||this.getStateNavigator().offNavigate(this.onNavigate)},i.prototype.render=function(){var t=this,a={ref:function(e){return t.el=e}};for(var i in this.props)n.isValidAttribute(i)&&(a[i]=this.props[i]);return a.href=this.getNavigationLink(),n.addListeners(this,this.getStateNavigator(),this.props,a,function(){return t.getNavigationLink()}),this.getStateNavigator().stateContext.state&&this.getStateNavigator().stateContext.state.key===this.props.stateKey&&n.setActive(this.getStateNavigator(),this.props,a),e.createElement("a",a,this.props.children)},i}(e.Component);r.contextTypes={stateNavigator:function(){}};var s=function(t){function i(e,a){var i=t.call(this,e,a)||this;return i.onNavigate=function(){i.state.stateContext!==i.getStateNavigator().stateContext.url&&i.setState(i.getNextState())},i.state=i.getNextState(),i}return a(i,t),i.prototype.getStateNavigator=function(){return this.props.stateNavigator||this.context.stateNavigator},i.prototype.getRefreshLink=function(){var t=this,e=n.getData(this.getStateNavigator(),this.props.navigationData,this.props.includeCurrentData,this.props.currentDataKeys);return n.getLink(this.getStateNavigator(),function(){return t.getStateNavigator().getRefreshLink(e)})},i.prototype.getNextState=function(){return{stateContext:this.getStateNavigator().stateContext.url}},i.prototype.componentDidMount=function(){this.props.lazy||this.getStateNavigator().onNavigate(this.onNavigate)},i.prototype.componentWillReceiveProps=function(){this.setState(this.getNextState())},i.prototype.componentWillUnmount=function(){this.props.lazy||this.getStateNavigator().offNavigate(this.onNavigate)},i.prototype.render=function(){var t=this,a={ref:function(e){return t.el=e}};for(var i in this.props)n.isValidAttribute(i)&&(a[i]=this.props[i]);return a.href=this.getRefreshLink(),n.addListeners(this,this.getStateNavigator(),this.props,a,function(){return t.getRefreshLink()}),n.setActive(this.getStateNavigator(),this.props,a),e.createElement("a",a,this.props.children)},i}(e.Component);s.contextTypes={stateNavigator:function(){}},t.NavigationBackLink=o,t.NavigationLink=r,t.RefreshLink=s}(this.NavigationReact=this.NavigationReact||{},React);